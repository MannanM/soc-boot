<html>
<head>
    <style>
        td, th {
            border: 0px solid black;
            width: 13px;
            text-align:center;
            background-color: white;
            line-height: 11px;
            font-family: monospace;
        }
        table {
            border-collapse: collapse;
        }
        .sea {
            background-color: #006994;
        }
        .br {
            border-radius: 10px 10px 10px 10px;
        }
        .brBot {
            border-radius: 0px 0px 10px 10px;
        }
        .brTop {
            border-radius: 10px 10px 0px 0px;
        }
        .brBotRight {
            border-radius: 0px 0px 10px 0px;
        }
        .brBotLeft {
            border-radius: 0px 0px 0px 10px;
        }
        .brTopRight {
            border-radius: 0px 10px 0px 0px;
        }
        .brTopLeft {
            border-radius: 10px 0px 0px 0px;
        }
    </style>
</head>
<body>
<table>
    <tr>
        <td colspan="23" class="sea brTop">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="7" class="sea brBotRight"></td>
        <td id="t00n1" class="node">o</td>
        <td colspan="3" class="sea brBot"></td>
        <td id="t01n1" class="node">o</td>
        <td colspan="3" class="sea brBot"></td>
        <td id="t02n1" class="node">o</td>
        <td colspan="7" class="sea brBotLeft"></td>
    </tr>
    <tr>
        <td colspan="6" class="sea brBotRight"></td>
        <td id="t00c0" class="connector">/</td>
        <td id="t00top" class="tile brTop"></td>
        <td id="t00c1" class="connector">\</td>
        <td class="sea brBot"></td>
        <td id="t01c0" class="connector">/</td>
        <td id="t01top" class="tile brTop"></td>
        <td id="t01c1" class="connector">\</td>
        <td class="sea brBot"></td>
        <td id="t02c0" class="connector">/</td>
        <td id="t02top" class="tile brTop"></td>
        <td id="t02c1" class="connector">\</td>
        <td colspan="6" class="sea brBotLeft"></td>
    </tr>
    <tr>
        <td colspan="5" class="sea"></td>
        <td id="t00n0" class="node">o</td>
        <td id="t00" class="tile br" colspan="3" rowspan="3">0</td>
        <td id="t0n2" class="node">o</td>
        <td id="t01" class="tile br"  colspan="3" rowspan="3">1</td>
        <td id="t01n2" class="node">o</td>
        <td id="t02" class="tile br" colspan="3" rowspan="3">2</td>
        <td id="t02n2" class="node">o</td>
        <td colspan="5" class="sea"></td>
    </tr>
    <tr>
        <td colspan="5" class="sea"></td>
        <td id="t00c5" class="connector">|</td>
        <td id="t00c2" class="connector">|</td>
        <td id="t01c2" class="connector">|</td>
        <td id="t02c2" class="connector">|</td>
        <td colspan="5" class="sea"></td>
    </tr>
    <tr>
        <td colspan="5" class="sea brBotRight"></td>
        <td id="t00n5" class="node">o</td>
        <td id="t00n3" class="node">o</td>
        <td id="t01n3" class="node">o</td>
        <td id="t02n3" class="node">o</td>
        <td colspan="5" class="sea brBotLeft"></td>
    </tr>
    <tr>
        <td colspan="4" class="sea brBotRight"></td>
        <td id="t03c1" class="connector">/</td>
        <td id="t03top" class="tile brTop"></td>
        <td id="t00c4" class="connector">\</td>
        <td id="t00bottom" class="tile brBot"></td>
        <td id="t00c3" class="connector">/</td>
        <td id="t04top" class="tile brTop"></td>
        <td id="t01c4" class="connector">\</td>
        <td id="t01bottom" class="tile brBot"></td>
        <td id="t01c3" class="connector">/</td>
        <td id="t05top" class="tile brTop"></td>
        <td id="t02c4" class="connector">\</td>
        <td id="t02bottom" class="tile brBot"></td>
        <td id="t02c3" class="connector">/</td>
        <td id="t06top" class="tile brTop"></td>
        <td id="t06c1" class="connector">\</td>
        <td colspan="4" class="sea brBotLeft"></td>
    </tr>
    <tr>
        <td colspan="3" class="sea"></td>
        <td id="t03n0" class="node">o</td>
        <td id="t03" class="tile br" colspan="3" rowspan="3">3</td>
        <td id="t0n4" class="node">o</td>
        <td id="t04" class="tile br"  colspan="3" rowspan="3">4</td>
        <td id="t01n4" class="node">o</td>
        <td id="t05" class="tile br"  colspan="3" rowspan="3">5</td>
        <td id="t02n4" class="node">o</td>
        <td id="t06" class="tile br"  colspan="3" rowspan="3">6</td>
        <td id="t06n4" class="node">o</td>
        <td colspan="3" class="sea"></td>
    </tr>
    <tr>
        <td colspan="3" class="sea"></td>
        <td id="t03c5" class="connector">|</td>
        <td id="t03c2" class="connector">|</td>
        <td id="t04c2" class="connector">|</td>
        <td id="t05c2" class="connector">|</td>
        <td id="t06c2" class="connector">|</td>
        <td colspan="3" class="sea"></td>
    </tr>
    <tr>
        <td colspan="3" class="sea brBotRight"></td>
        <td id="t03n5" class="node">o</td>
        <td id="t03n3" class="node">o</td>
        <td id="t04n3" class="node">o</td>
        <td id="t05n3" class="node">o</td>
        <td id="t06n3" class="node">o</td>
        <td colspan="3" class="sea brBotLeft"></td>
    </tr>
    <tr>
        <td colspan="2" class="sea brBotRight"></td>
        <td id="t07c1" class="connector">/</td>
        <td id="t07top" class="tile brTop"></td>
        <td id="t03c4" class="connector">\</td>
        <td id="t03bottom" class="tile brBot"></td>
        <td id="t03c3" class="connector">/</td>
        <td id="t08top" class="tile brTop"></td>
        <td id="t04c4" class="connector">\</td>
        <td id="t04bottom" class="tile brBot"></td>
        <td id="t04c3" class="connector">/</td>
        <td id="t09top" class="tile brTop"></td>
        <td id="t05c4" class="connector">\</td>
        <td id="t05bottom" class="tile brBot"></td>
        <td id="t05c3" class="connector">/</td>
        <td id="t10top" class="tile brTop"></td>
        <td id="t10c1" class="connector">\</td>
        <td id="t06bottom" class="tile brBot"></td>
        <td id="t06c3" class="connector">/</td>
        <td id="t11top" class="tile brTop"></td>
        <td id="t11c1" class="connector">\</td>
        <td colspan="2" class="sea brBotLeft"></td>
    </tr>
    <tr>
        <td colspan="1" class="sea"></td>
        <td id="t07n0" class="node">o</td>
        <td id="t07" class="tile br"  colspan="3" rowspan="3">7</td>
        <td id="t07n4" class="node">o</td>
        <td id="t08" class="tile br"  colspan="3" rowspan="3">8</td>
        <td id="t03n4" class="node">o</td>
        <td id="t09" class="tile br"  colspan="3" rowspan="3">9</td>
        <td id="t04n4" class="node">o</td>
        <td id="t10" class="tile br"  colspan="3" rowspan="3">10</td>
        <td id="t05n4" class="node">o</td>
        <td id="t11" class="tile br"  colspan="3" rowspan="3">11</td>
        <td id="t11n4" class="node">o</td>
        <td colspan="1" class="sea"></td>
    </tr>
    <tr>
        <td colspan="1" class="sea"></td>
        <td id="t07c5" class="connector">|</td>
        <td id="t07c2" class="connector">|</td>
        <td id="t08c2" class="connector">|</td>
        <td id="t09c2" class="connector">|</td>
        <td id="t10c2" class="connector">|</td>
        <td id="t11c2" class="connector">|</td>
        <td colspan="1" class="sea"></td>
    </tr>
    <tr>
        <td colspan="1" class="sea"></td>
        <td id="t07n5" class="node">o</td>
        <td id="t07n3" class="node">o</td>
        <td id="t08n3" class="node">o</td>
        <td id="t09n3" class="node">o</td>
        <td id="t10n3" class="node">o</td>
        <td id="t11n3" class="node">o</td>
        <td colspan="1" class="sea"></td>
    </tr>
    <tr>
        <td colspan="2" class="sea brTopRight"></td>
        <td id="t07c4" class="connector">\</td>
        <td id="t07bottom" class="tile brBot"></td>
        <td id="t07c3" class="connector">/</td>
        <td id="t12top" class="tile brTop"></td>
        <td id="t08c4" class="connector">\</td>
        <td id="t08bottom" class="tile brBot"></td>
        <td id="t08c3" class="connector">/</td>
        <td id="t13top" class="tile brTop"></td>
        <td id="t09c4" class="connector">\</td>
        <td id="t09bottom" class="tile brBot"></td>
        <td id="t09cc" class="connector">/</td>
        <td id="t14top" class="tile brTop"></td>
        <td id="t10c4" class="connector">\</td>
        <td id="t10bottom" class="tile brBot"></td>
        <td id="t10c3" class="connector">/</td>
        <td id="t15top" class="tile brTop"></td>
        <td id="t11c4" class="connector">\</td>
        <td id="t11bottom" class="tile brBot"></td>
        <td id="t11c3" class="connector">/</td>
        <td colspan="2" class="sea brTopLeft"></td>
    </tr>
    <tr>
        <td colspan="3" class="sea brTopRight"></td>
        <td id="t12n0" class="node">o</td>
        <td id="t12" class="tile br"  colspan="3" rowspan="3">12</td>
        <td id="t12n2" class="node">o</td>
        <td id="t13" class="tile br"  colspan="3" rowspan="3">13</td>
        <td id="t13n2" class="node">o</td>
        <td id="t14" class="tile br"  colspan="3" rowspan="3">14</td>
        <td id="t14n2" class="node">o</td>
        <td id="t15" class="tile br"  colspan="3" rowspan="3">15</td>
        <td id="t15n2" class="node">o</td>
        <td colspan="3" class="sea brTopLeft"></td>
    </tr>
    <tr>
        <td colspan="3" class="sea"></td>
        <td id="t12c5" class="connector">|</td>
        <td id="t12c2" class="connector">|</td>
        <td id="t13c2" class="connector">|</td>
        <td id="t14c2" class="connector">|</td>
        <td id="t15c2" class="connector">|</td>
        <td colspan="3" class="sea"></td>
    </tr>
    <tr>
        <td colspan="3" class="sea"></td>
        <td id="t12n5" class="node">o</td>
        <td id="t12n3" class="node">o</td>
        <td id="t13n3" class="node">o</td>
        <td id="t14n3" class="node">o</td>
        <td id="t15n3" class="node">o</td>
        <td colspan="3" class="sea"></td>
    </tr>
    <tr>
        <td colspan="4" class="sea brTopRight"></td>
        <td id="t12c4" class="connector">\</td>
        <td id="t12bottom" class="tile brBot"></td>
        <td id="t12c3" class="connector">/</td>
        <td id="t16top" class="tile brTop"></td>
        <td id="t13c4" class="connector">\</td>
        <td id="t13bottom" class="tile brBot"></td>
        <td id="t13c3" class="connector">/</td>
        <td id="t17top" class="tile brTop"></td>
        <td id="t14c4" class="connector">\</td>
        <td id="t14bottom" class="tile brBot"></td>
        <td id="t14c3" class="connector">/</td>
        <td id="t18top" class="tile brTop"></td>
        <td id="t15c4" class="connector">\</td>
        <td id="t15bottom" class="tile brBot"></td>
        <td id="t15c3" class="connector">/</td>
        <td colspan="4" class="sea brTopLeft"></td>
    </tr>
    <tr>
        <td colspan="5" class="sea brTopRight"></td>
        <td id="t12n4" class="node">o</td>
        <td id="t16" class="tile br"  colspan="3" rowspan="3">16</td>
        <td id="t13n4" class="node">o</td>
        <td id="t17" class="tile br"  colspan="3" rowspan="3">17</td>
        <td id="t14n4" class="node">o</td>
        <td id="t18" class="tile br"  colspan="3" rowspan="3">18</td>
        <td id="t15n4" class="node">o</td>
        <td colspan="5" class="sea brTopLeft"></td>
    </tr>
    <tr>
        <td colspan="5" class="sea"></td>
        <td id="t16c5" class="connector">|</td>
        <td id="t16c2" class="connector">|</td>
        <td id="t17c2" class="connector">|</td>
        <td id="t18c2" class="connector">|</td>
        <td colspan="5" class="sea"></td>
    </tr>
    <tr>
        <td colspan="5" class="sea"></td>
        <td id="t16n5" class="node">o</td>
        <td id="t16n3" class="node">o</td>
        <td id="t17n3" class="node">o</td>
        <td id="t18n3" class="node">o</td>
        <td colspan="5" class="sea"></td>
    </tr>
    <tr>
        <td colspan="6" class="sea brTopRight"></td>
        <td id="t16c4" class="connector">\</td>
        <td id="t16bottom" class="tile brBot"></td>
        <td id="t16c3" class="connector">/</td>
        <td class="sea brtop" class="tile brTop"></td>
        <td id="t17c4" class="connector">\</td>
        <td id="t17bottom" class="tile brBot"></td>
        <td id="t17c3" class="connector">/</td>
        <td class="sea brtop" class="tile brTop"></td>
        <td id="t18c4" class="connector">\</td>
        <td id="t18bottom" class="tile brBot"></td>
        <td id="t18c3" class="connector">/</td>
        <td colspan="6" class="sea brTopLeft"></td>
    </tr>
    <tr>
        <td colspan="7" class="sea brTopRight"></td>
        <td id="t16n4" class="node">o</td>
        <td colspan="3" class="sea brtop" class="tile brTop"></td>
        <td id="t17n4" class="node">o</td>
        <td colspan="3" class="sea brtop" class="tile brTop"></td>
        <td id="t18n4" class="node">o</td>
        <td colspan="7" class="sea brTopLeft"></td>
    </tr>
    <tr>
        <td colspan="23" class="sea brBot">&nbsp;</td>
    </tr>
</table>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script type="text/javascript">
    var GAME_ID = 100;
    var PLAYER_ID = 200;

    $(function() {
        $('.tile, .node, .connector').click(boardClick);
        initialise();
    });

    function boardClick(event) {
        var id = event.toElement.id;
        var tile = parseInt(id.substring(1, 3));

        var data = { tile: tile };
        if (id.length > 2) {
            if (id[3] == 'n') {
                data.node = parseInt(id[4]);
            } else if (id[3] == 'c') {
                data.connector = parseInt(id[4]);
            }
        }
        console.log(data);
        $.ajax({
              method: 'POST',
              url: '/v1/games/' + GAME_ID + '/players/' + PLAYER_ID + '/action',
              contentType: 'application/json',
              dataType: 'json',
              data: JSON.stringify(data)
            })
            .done(function( msg ) {
                alert( "Data Saved: " + msg );
            });
    }

    function initialise() {
        $.ajax('/v1/games/' + GAME_ID + '/state')
          .done(function(data) {
            loadTiles(data.data.tiles);
          }).fail(function() {
            alert( "error" );
          });
    }

    function loadTiles(tiles) {
        var tileTypes = {
            TREE: '#228B22',
            SHEEP: '#7cfc00',
            MUD: '#edc9af',
            IRON: '#E6E7E8',
            WHEAT: 'pink',
            DESERT: '#c2b280'
        };
        for (var i = 0; i < tiles.length; i++) {
            var ident = '#t' + pad(i, 2);
            var colour = tileTypes[tiles[i].type];
            $(ident + ',' + ident + 'top,' + ident + 'bottom')
                .css('background-color', colour);
            var number = tiles[i].number;
            $(ident).text(number == 7 ? '' : number);
        }
    }

    function pad (str, max) {
        str = str.toString();
        return str.length < max ? pad("0" + str, max) : str;
    }
</script>
</body>
</html>